{
  "permissions": {
    "allow": [
      "Bash(wc -l /Users/larsbruckschen/Fabrik_Dashboard/frontend/src/components/*.js /Users/larsbruckschen/Fabrik_Dashboard/backend/app/services/*.py /Users/larsbruckschen/Fabrik_Dashboard/backend/app/routers/*.py 2>/dev/null | tail -1)",
      "Bash(ls /Users/larsbruckschen/Fabrik_Dashboard/frontend/src/components/*.css 2>/dev/null)",
      "Bash(chmod +x /Users/larsbruckschen/Fabrik_Dashboard/scripts/start-dev.sh)",
      "Bash(cd /Users/larsbruckschen/Fabrik_Dashboard/backend && python -m py_compile app/services/github_service.py && echo \"OK\" || echo \"SYNTAX ERROR\")",
      "Bash(python3 -m py_compile app/routers/settings.py && echo \"OK\" || echo \"SYNTAX ERROR\")",
      "Bash(python3 -m py_compile app/services/scheduler.py && python3 -m py_compile app/services/network_scanner.py && python3 -m py_compile app/services/ssh_manager.py && python3 -m py_compile app/services/settings_service.py && python3 -m py_compile app/routers/github.py && python3 -m py_compile app/models/github.py && python3 -m py_compile app/main.py && echo \"All OK\")",
      "Bash(curl -s http://localhost:8000/api/machines 2>&1 | head -100)",
      "Bash(curl -sv http://localhost:8000/health 2>&1)",
      "Bash(curl -sv http://localhost:3000/api/machines 2>&1)",
      "Bash(curl -sv http://localhost:3000/api/settings 2>&1)",
      "Bash(docker exec fabrik-frontend cat /etc/hosts | grep -i backend 2>&1)",
      "Bash(docker exec fabrik-frontend curl -sv http://backend:8000/health 2>&1)",
      "Bash(docker exec fabrik-backend curl -s http://localhost:8000/health 2>&1)",
      "Bash(docker exec fabrik-backend hostname -I 2>&1 || docker exec fabrik-backend ip addr show 2>&1 | head -20)",
      "Bash(docker exec fabrik-backend curl -s http://localhost:8000/api/machines 2>&1 | python3 -m json.tool | head -40)",
      "Bash(docker exec fabrik-backend curl -s http://localhost:8000/api/settings 2>&1 | python3 -m json.tool)",
      "Bash(docker exec fabrik-backend curl -s http://localhost:8000/api/github/summary 2>&1 | python3 -m json.tool | head -30)",
      "Bash(docker exec fabrik-frontend ip route 2>&1 || docker exec fabrik-frontend route -n 2>&1)",
      "Bash(docker exec fabrik-frontend curl -s http://172.20.0.1:8000/health 2>&1)",
      "Bash(chmod +x /Users/larsbruckschen/Fabrik_Dashboard/docker/docker-entrypoint.sh)",
      "Bash(cd /Users/larsbruckschen/Fabrik_Dashboard/backend && python3 -m py_compile app/services/settings_service.py && python3 -m py_compile app/routers/settings.py && python3 -m py_compile app/routers/github.py && python3 -m py_compile app/services/github_service.py && python3 -m py_compile app/main.py && echo \"All OK\")",
      "Bash(cd /Users/larsbruckschen/Fabrik_Dashboard && docker compose down 2>&1)",
      "Bash(docker compose up -d --build 2>&1)",
      "Bash(echo \"=== Health ===\" && curl -s http://localhost:3000/health | python3 -m json.tool && echo \"=== Machines ===\" && curl -s http://localhost:3000/api/machines | python3 -m json.tool | head -20 && echo \"=== Summary ===\" && curl -s http://localhost:3000/api/machines/summary | python3 -m json.tool)",
      "Bash(echo \"=== Settings ===\" && curl -s http://localhost:3000/api/settings | python3 -m json.tool && echo \"=== GitHub Summary ===\" && curl -s http://localhost:3000/api/github/summary | python3 -m json.tool | head -20 && echo \"=== GitHub Status ===\" && curl -s http://localhost:3000/api/github/status | python3 -m json.tool && echo \"=== Config ===\" && curl -s http://localhost:3000/api/config | python3 -m json.tool)",
      "Bash(timeout 3 curl -sv -N --http1.1 \\\\\n  -H \"Upgrade: websocket\" \\\\\n  -H \"Connection: Upgrade\" \\\\\n  -H \"Sec-WebSocket-Version: 13\" \\\\\n  -H \"Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==\" \\\\\n  http://localhost:3000/ws 2>&1 | head -20)",
      "Bash(curl -sv -m 3 -N --http1.1 \\\\\n  -H \"Upgrade: websocket\" \\\\\n  -H \"Connection: Upgrade\" \\\\\n  -H \"Sec-WebSocket-Version: 13\" \\\\\n  -H \"Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==\" \\\\\n  http://localhost:3000/ws 2>&1 | head -20)",
      "Bash(curl -s -X PUT http://localhost:3000/api/settings/network \\\\\n  -H \"Content-Type: application/json\" \\\\\n  -d '{\"scan_interval\": 60}' | python3 -m json.tool)",
      "Bash(curl -s -X DELETE http://localhost:3000/api/settings/machines/192.168.44.99 | python3 -m json.tool 2>&1)",
      "Bash(curl -s -X POST http://localhost:3000/api/github/sync | python3 -m json.tool)",
      "Bash(curl -s -X POST http://localhost:3000/api/machines/scan | python3 -m json.tool)",
      "Bash(curl -s -X POST http://localhost:3000/api/settings/apply | python3 -m json.tool)",
      "Bash(curl -s http://localhost:3000/ | head -5)",
      "Bash(docker compose up -d --build backend 2>&1 | tail -10)",
      "Bash(sleep 15 && curl -s http://localhost:3000/api/machines/summary | python3 -m json.tool)",
      "Bash(cd /Users/larsbruckschen/Fabrik_Dashboard/backend && python3 -m py_compile app/services/ssh_manager.py && python3 -m py_compile app/services/network_scanner.py && echo \"OK\")",
      "Bash(docker compose up -d --build backend 2>&1 | tail -5)",
      "Bash(sleep 70 && curl -s http://localhost:3000/api/machines/summary | python3 -m json.tool)",
      "Bash(echo \"=== 1. Health ===\" && curl -s http://localhost:3000/health | python3 -m json.tool\necho \"\"\necho \"=== 2. Dashboard/Config ===\" && curl -s http://localhost:3000/api/config | python3 -m json.tool\necho \"\"\necho \"=== 3. Machines \\(first 2\\) ===\" && curl -s http://localhost:3000/api/machines | python3 -c \"import json,sys; d=json.load\\(sys.stdin\\); [print\\(json.dumps\\({'ip':m['ip'],'name':m['name'],'status':m['status'],'role':m['role']}, indent=2\\)\\) for m in d[:2]]\"\necho \"\"\necho \"=== 4. Network Summary ===\" && curl -s http://localhost:3000/api/machines/summary | python3 -m json.tool\necho \"\"\necho \"=== 5. Settings \\(token masked?\\) ===\" && curl -s http://localhost:3000/api/settings | python3 -c \"import json,sys; d=json.load\\(sys.stdin\\); print\\(json.dumps\\(d, indent=2\\)\\)\"\necho \"\"\necho \"=== 6. GitHub Summary ===\" && curl -s http://localhost:3000/api/github/summary | python3 -c \"import json,sys; d=json.load\\(sys.stdin\\); print\\(json.dumps\\({k:d[k] for k in ['repo_name','open_issues','open_prs','merged_prs','configured','error']}, indent=2\\)\\)\"\necho \"\"\necho \"=== 7. GitHub Status ===\" && curl -s http://localhost:3000/api/github/status | python3 -m json.tool)",
      "Bash(curl -s http://192.168.44.10:3000/api/machines/summary 2>&1 | python3 -m json.tool)"
    ]
  }
}
